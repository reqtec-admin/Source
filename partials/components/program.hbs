{{!-- Program Section Component --}}
<section class="gh-program">
    <div class="gh-container">
        <div class="gh-program-header">
            <h2 class="gh-program-title">The Problem</h2>
            <p class="gh-program-subtitle">
                Chronic diseases—heart disease, diabetes, obesity—drive 75% of the $4.5 trillion annual healthcare spend, 
                fueling a national debt soaring past $33 trillion, with Medicare and Medicaid eating over 20% of federal budgets.
                The <a href="/a-new-war-for-independence-reclaiming-americas-health" target="_blank">US Health Crisis</a> must be addressed one citizen at a time targeting the everyday American.
                There are thousands of hours of education and workout programs available, but this can leave the average American overwhelmed and confused.
                Americans need practical, actionable, and sustainable solutions to improve their health.
            </p>
        </div>
        
        <div class="gh-program-header">
            <h2 class="gh-program-title">The Commit 250 Program</h2>
            <p class="gh-program-subtitle">The Commit 250 Program is a comprehensive health program 
                meticulously crafted to guide users to build discipline and structure for lasting personal transformation.  Uniquely inspired by our nation's 250th anniversary, we focus on US citizens and their practical needs to improve their health.
                First, it's important to understand that the program is <b>not a diet or a workout plan</b>. It's a resource providing you several workout programs, diet programs, and educational resources to improve your health.
                There is so much more to health than diet and exercise. Commit 250 will help you achieve your goals by providing discipline, community, education, and accountability. 
            </p>
        </div>


        <div class="gh-program-accordion">
            <button class="gh-accordion-toggle" id="design-accordion-toggle">
                <span class="gh-accordion-title">The Design</span>
                <span class="gh-accordion-icon">▼</span>
            </button>
            <div class="gh-accordion-content" id="design-accordion-content">
                <div class="gh-program-content" id="design-cards">
                    <div class="gh-section-card" data-section="0">
                        <div class="gh-section-content">
                            <div class="gh-section-image">
                                <div class="gh-section-placeholder">Loading...</div>
                            </div>
                            <div class="gh-section-text">
                                <h3 class="gh-section-title">Loading...</h3>
                                <p class="gh-section-description">Loading program data...</p>
                                <span class="gh-section-duration">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="gh-program-accordion">
            <button class="gh-accordion-toggle" id="structure-accordion-toggle">
                <span class="gh-accordion-title">The Structure</span>
                <span class="gh-accordion-icon">▼</span>
            </button>
            <div class="gh-accordion-content" id="structure-accordion-content">
                <div class="gh-program-content" id="program-content">
                    {{!-- All sections (sections + final) will be populated by JavaScript from program.json --}}
                    <div class="gh-section-card" data-section="0">
                        <div class="gh-section-content">
                            <div class="gh-section-image">
                                <div class="gh-section-placeholder">Loading...</div>
                            </div>
                            <div class="gh-section-text">
                                <h3 class="gh-section-title">Loading...</h3>
                                <p class="gh-section-description">Loading program data...</p>
                                <span class="gh-section-duration">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="gh-program-accordion">
            <button class="gh-accordion-toggle" id="faq-accordion-toggle">
                <span class="gh-accordion-title">Frequently Asked Questions</span>
                <span class="gh-accordion-icon">▼</span>
            </button>
            <div class="gh-accordion-content" id="faq-accordion-content">
                <div class="gh-program-content" id="faq-cards">
                    <div class="gh-section-card" data-section="0">
                        <div class="gh-section-content">
                            <div class="gh-section-image">
                                <div class="gh-section-placeholder">Loading...</div>
                            </div>
                            <div class="gh-section-text">
                                <h3 class="gh-section-title">Loading...</h3>
                                <p class="gh-section-description">Loading program data...</p>
                                <span class="gh-section-duration">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>

<script>
// Accordion functionality with dynamic height animation
document.addEventListener('DOMContentLoaded', function() {
    // Function to handle accordion toggle with dynamic height
    function setupAccordion(toggleId, contentId) {
        const accordionToggle = document.getElementById(toggleId);
        const accordionContent = document.getElementById(contentId);
        
        if (accordionToggle && accordionContent) {
            accordionToggle.addEventListener('click', function() {
                const isActive = accordionToggle.classList.contains('active');
                
                if (isActive) {
                    // Closing accordion
                    accordionToggle.classList.remove('active');
                    accordionContent.classList.remove('active');
                    accordionContent.style.maxHeight = '0px';
                } else {
                    // Opening accordion
                    accordionToggle.classList.add('active');
                    accordionContent.classList.add('active');
                    
                    // Calculate the actual content height
                    const contentHeight = accordionContent.scrollHeight;
                    accordionContent.style.maxHeight = contentHeight + 'px';
                }
            });
        }
    }
    
    // Setup all accordion sections
    setupAccordion('design-accordion-toggle', 'design-accordion-content');
    setupAccordion('structure-accordion-toggle', 'structure-accordion-content');
    setupAccordion('faq-accordion-toggle', 'faq-accordion-content');
});

// Intersection Observer for scroll animations
document.addEventListener('DOMContentLoaded', function() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate');
            }
        });
    }, observerOptions);

    // Observe all section cards and final section
    const cards = document.querySelectorAll('.gh-section-card, .gh-final-section');
    cards.forEach(card => {
        observer.observe(card);
    });
});
</script> 